(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(e){e.exports={serverBase:"http://local.sgaviria.com"}},60:function(e,t,a){e.exports=a(76)},76:function(e,t,a){"use strict";a.r(t);var r=a(0),c=a.n(r),n=a(7),o=a.n(n),s=a(22),l=a(49),i=a(25),u=function(e){var t=e.id,a=e.name,c=e.price,n=e.images,o=n&&n.length>0?s.serverBase+n[0].url:"https://misanimales.com/wp-content/uploads/2014/12/gato-enfermo.jpg";return r.createElement("div",{className:"card"},r.createElement("img",{className:"card-img-top",src:o}),r.createElement("div",{className:"card-body"},r.createElement("h5",{className:"card-title"},a),r.createElement("p",{className:"card-text"},r.createElement(l.a,{thousandSeparator:!0,prefix:"$ ",value:c,displayType:"text"})),r.createElement(i.b,{to:"/producto/".concat(t,"-").concat(a)},"Ver m\xe1s")))},d=a(30),p=a(31),m=a(38),h=a(33),g=a(32),v=a(39),b=a(43),f=a(28),E=a.n(f);function y(e){var t=e?"/"+e:"";return E.a.get(s.serverBase+"/categories"+t)}var j={getProducts:function(e,t){if(e){var a=e.split("-");return y(Object(b.a)(a,1)[0])}var r=[];e&&r.push("category._id="+e),t&&r.push("price_lte="+t);var c=r.join("&");return c&&(c="?"+c),E.a.get(s.serverBase+"/products"+c)},getSearchProducts:function(e){return E.a.get("".concat(s.serverBase,"/products?name_contains=").concat(e))},getProductById:function(e){var t=e.split("-"),a=Object(b.a)(t,1)[0];return E.a.get("".concat(s.serverBase,"/products/").concat(a))},getCategories:y},I=a(54);var k=function(e){var t=e.list,a=[{id:null,name:"Todos",handleClick:e.handleClick}].concat(Object(I.a)(t));return r.createElement("nav",null,a.map(function(e){var t=e.id,a=e.name;return r.createElement(i.b,{className:"btn btn-default",key:t,to:t?"/categoria/".concat(t,"-").concat(a):"/"},a)}))},O=function(e){function t(e){var a;return Object(d.a)(this,t),a=Object(m.a)(this,Object(h.a)(t).call(this,e)),console.log(a.props.match),a.state={products:[],categories:[]},j.getProducts(a.props.match.params.catId).then(function(e){a.setState({products:e.body.products||e.body})}),j.getCategories().then(function(e){a.setState({categories:e.body})}),a.handleSearchInput=a.handleSearchInput.bind(Object(g.a)(a)),a}return Object(v.a)(t,e),Object(p.a)(t,[{key:"handleSearchInput",value:function(e){var t=this;console.log(e.target.value),j.getSearchProducts(e.target.value).then(function(e){t.setState({products:e.body})})}},{key:"shouldComponentUpdate",value:function(e){var t=this,a=e.match.params.catId;return this.props.match.params.catId!==a&&j.getProducts(a).then(function(e){t.setState({products:e.body.products||e.body})}),!0}},{key:"render",value:function(){return r.createElement("div",{className:"container mt-4"},this.props.children,r.createElement(k,{list:this.state.categories,handleClick:this.handleCategoryClick}),r.createElement("input",{type:"text",className:"form-control mb-4",placeholder:"Buscar productos...",onInput:this.handleSearchInput}),r.createElement("div",{className:"row"},this.state.products.map(function(e){var t=e.id,a=e.name,c=e.price,n=e.images;return r.createElement("div",{className:"col-4",key:t},r.createElement(u,{id:t,name:a,price:c,images:n}))})))}}]),t}(r.Component),C=a(21),N=a(97),S=a(93),B=a(94),w=a(95),x=a(96),P=a(98),_=function(e){function t(e){var a;return Object(d.a)(this,t),a=Object(m.a)(this,Object(h.a)(t).call(this,e)),console.log(e),a.state={product:null},j.getProductById(e.match.params.productId).then(function(e){a.setState({product:e.body})}),a}return Object(v.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.state.product||{},a=t.name,c=t.description;return r.createElement(N.a,{fullWidth:!0,maxWidth:"lg",open:!0,"aria-labelledby":"max-width-dialog-title"},r.createElement(S.a,{id:"max-width-dialog-title"},a||"Cargando producto..."),r.createElement(B.a,null,r.createElement(w.a,null,c)),r.createElement(x.a,null,r.createElement(P.a,{onClick:function(){return e.props.history.goBack()},color:"primary"},"Close")))}}]),t}(r.Component);var A=function(){return c.a.createElement(i.a,null,c.a.createElement("div",{className:"App"},c.a.createElement("header",{className:"App-header"},c.a.createElement(C.a,{path:["/","/categoria/:catId","/producto/:productId"],exact:!0,component:O}),c.a.createElement(C.a,{path:"/producto/:productId",component:_}))))};o.a.render(c.a.createElement(A,null),document.getElementById("root"))}},[[60,1,2]]]);
//# sourceMappingURL=main.468ccb30.chunk.js.map