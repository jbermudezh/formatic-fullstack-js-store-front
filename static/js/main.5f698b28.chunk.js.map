{"version":3,"sources":["ProductCard/ProductCard.jsx","utils/api.js","Categories/Categories.jsx","Catalog/Catalog.jsx","ProductDetails/ProductDetails.jsx","App.js","index.js"],"names":["ProductCard","_ref","id","name","price","images","imageURL","length","config","serverBase","url","react","className","src","react_number_format_es","thousandSeparator","prefix","value","displayType","react_router_dom","to","concat","getCategories","catId","filter","request","get","api","getProducts","_catId$split","split","Object","slicedToArray","filters","push","filtersString","join","getSearchProducts","searchString","getProductById","productId","_productId$split","Categories","list","copy","handleClick","toConsumableArray","map","_ref2","key","Catalog","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","console","log","match","state","products","categories","params","then","res","setState","body","handleSearchInput","bind","assertThisInitialized","event","_this2","target","nextProps","_this3","children","Categories_Categories","handleCategoryClick","type","placeholder","onInput","src_ProductCard_ProductCard","React","ProductDetails","product","description","Dialog","fullWidth","maxWidth","open","aria-labelledby","DialogTitle","DialogContent","DialogContentText","DialogActions","Button","onClick","history","goBack","color","App","react_default","a","createElement","basename","urlBase","react_router","path","exact","component","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.5f698b28.chunk.js","sourcesContent":["import * as React from 'react';\nimport config from '../config.json';\nimport NumberFormat from 'react-number-format';\nimport { Link } from 'react-router-dom'\n\nconst defaultURL = 'https://misanimales.com/wp-content/uploads/2014/12/gato-enfermo.jpg';\n\nconst ProductCard = ({ id, name, price, images }) => {\n    let imageURL = images && images.length > 0 ? config.serverBase + images[0].url : defaultURL;\n    return <div className=\"card\">\n        <img className=\"card-img-top\" src={imageURL} />\n        <div className=\"card-body\">\n            <h5 className=\"card-title\">{name}</h5>\n            <p className=\"card-text\"><NumberFormat thousandSeparator prefix=\"$ \" value={price} displayType=\"text\" /></p>\n            <Link to={`/producto/${id}-${name}`}>\n                Ver m√°s\n            </Link>\n        </div>\n    </div>\n}\n\nexport default ProductCard;","import request from 'superagent';\nimport { serverBase } from '../config.json';\n\nfunction getProducts(catId, price){\n    if(catId) {\n        let [id] = catId.split('-');\n        return getCategories(id);\n    }\n\n    let filters = [];\n\n    if(catId) filters.push('category._id='+catId);\n    if(price) filters.push('price_lte='+price);\n\n    let filtersString = filters.join('&');\n    if(filtersString) filtersString = '?' + filtersString;\n\n    return request\n        .get(serverBase + '/products' + filtersString);\n}\n\nfunction getSearchProducts(searchString){\n    return request\n        .get(`${serverBase}/products?name_contains=${searchString}`);\n}\n\nfunction getProductById(productId){\n    let [id] = productId.split('-');\n    return request\n        .get(`${serverBase}/products/${id}`);\n}\n\nfunction getCategories(catId){\n    let filter = catId ? '/' + catId : '';\n    return request\n        .get(serverBase + '/categories' + filter);\n}\n\nconst api = {\n    getProducts,\n    getSearchProducts,\n    getProductById,\n    getCategories,\n};\n\nexport default api;","import * as React from 'react';\nimport { Link } from 'react-router-dom'\n\nfunction Categories({ list, handleClick }){\n    let copy = [\n        {\n            id: null,\n            name: 'Todos',\n            handleClick: handleClick\n        },\n        ...list\n    ];\n    return <nav>\n        {copy.map(({ id, name }) =>\n            <Link className=\"btn btn-default\" key={id} \n                to={id ? `/categoria/${id}-${name}` : '/'}>\n                {name}\n            </Link>\n        )}\n    </nav>;\n}\n\nexport default Categories;","import * as React from 'react';\nimport ProductCard from '../ProductCard/ProductCard';\nimport api from '../utils/api';\nimport Categories from '../Categories/Categories';\n\nclass Catalog extends React.Component {\n\n  constructor(props){\n    super(props);\n\n    console.log(this.props.match)\n\n    this.state = {\n      products: [],\n      categories: [],\n    };\n\n    api.getProducts(this.props.match.params.catId)\n      .then(res => {\n        this.setState({\n          products: res.body.products || res.body\n        });\n      });\n\n    api.getCategories()\n      .then(res => {\n        this.setState({\n          categories: res.body\n        });\n      });\n\n    this.handleSearchInput = this.handleSearchInput.bind(this);\n  }\n\n  handleSearchInput(event){\n    console.log(event.target.value);\n    api.getSearchProducts(event.target.value)\n      .then(res => {\n        this.setState({\n          products: res.body\n        });\n      });\n  }\n\n  shouldComponentUpdate(nextProps){\n    let catId = nextProps.match.params.catId;\n    if(this.props.match.params.catId !== catId){\n      api.getProducts(catId)\n          .then(res => {\n            this.setState({\n              products: res.body.products || res.body\n            });\n          });\n    }\n\n    return true;\n  }\n  \n  render(){\n    return <div className=\"container mt-4\">\n\n      {this.props.children}\n\n      <Categories list={this.state.categories} handleClick={this.handleCategoryClick} />\n\n      <input type=\"text\" className=\"form-control mb-4\" \n        placeholder=\"Buscar productos...\" \n        onInput={this.handleSearchInput} />\n\n      <div className=\"row\">\n        {this.state.products.map(({ id, name, price, images }) => {\n          return <div className=\"col-4\" key={id}>\n            <ProductCard id={id} name={name} price={price} images={images} />\n          </div>;\n        })}\n      </div>\n      \n    </div>;\n  }\n}\n\nexport default Catalog;","import * as React from 'react';\nimport api from '../utils/api';\nimport { Dialog, DialogTitle, DialogContent, DialogContentText, DialogActions, Button } from '@material-ui/core'\n\nclass ProductDetails extends React.Component {\n\n  constructor(props){\n    super(props);\n\n    console.log(props)\n\n    this.state = {\n      product: null,\n    };\n\n    api.getProductById(props.match.params.productId)\n      .then(res => {\n        this.setState({\n          product: res.body\n        });\n      });\n  }\n\n  render() {\n\n    const { name, description } = this.state.product || {};\n\n    return  <Dialog\n      fullWidth\n      maxWidth=\"lg\"\n      open\n      aria-labelledby=\"max-width-dialog-title\"\n      >\n        <DialogTitle id=\"max-width-dialog-title\">{name || 'Cargando producto...'}</DialogTitle>\n        <DialogContent>\n          <DialogContentText>{description}</DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => this.props.history.goBack()} color=\"primary\">\n            Close\n          </Button>\n        </DialogActions>\n      </Dialog>;\n    }\n}\n\nexport default ProductDetails;","import React from 'react';\nimport ProductCard from './ProductCard/ProductCard';\nimport Catalog from './Catalog/Catalog';\nimport { BrowserRouter as Router, Route } from 'react-router-dom'\nimport ProductDetails from './ProductDetails/ProductDetails';\nimport { urlBase } from './config.json';\n\nfunction App() {\n  return (\n    <Router basename={urlBase}>\n      <div className=\"App\">\n        <header className=\"App-header\">\n\n          <Route path={['/', '/categoria/:catId', '/producto/:productId']} exact \n            component={Catalog} />\n\n          <Route path=\"/producto/:productId\" component={ProductDetails} />\n\n          {/*<Catalog>\n            <div className=\"alert alert-success\">\n              <img src=\"\" alt=\"\"/>\n              Lorem ipsum dolor sit amet consectetur.\n              <a href=\"/hjkl\">Compra ya!!!</a>\n            </div>\n          </Catalog>*/}\n        </header>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}